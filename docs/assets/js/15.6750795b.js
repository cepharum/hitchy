(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{198:function(t,s,e){"use strict";e.r(s);var a=e(6),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"components"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#components"}},[t._v("#")]),t._v(" Components")]),t._v(" "),e("p",[t._v("A Hitchy-based application relies on components to be exposed by the application as well as any available plugin. During "),e("RouterLink",{attrs:{to:"/internals/bootstrap.html"}},[t._v("bootstrap")]),t._v(" Hitchy is "),e("RouterLink",{attrs:{to:"/internals/bootstrap.html#collecting-deriving-replacing"}},[t._v("searching for Javascript files implementing components")]),t._v(" in certain folders of every plugin as well as the application.")],1),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("Those folders are mentioned below in context of either type of component.")])]),t._v(" "),e("p",[t._v("When loading a component's file it is assumed to export the component's API. This might be some class or some object providing its methods.")]),t._v(" "),e("p",[t._v("Every component is exposed at runtime using a name for either component which is "),e("a",{attrs:{href:"#derivation-of-component-names"}},[t._v("derived from its file's relative path name")]),t._v(". When multiple files in installed plugins and your application result in same name of component only the last one read will be exposed. However either file is loaded with a reference to the existing component it is replacing.")]),t._v(" "),e("h2",{attrs:{id:"kinds-of-components"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kinds-of-components"}},[t._v("#")]),t._v(" Kinds of Components")]),t._v(" "),e("p",[t._v("Hitchy knows four different kinds of components described below. Either kind of component is assumed to be implemented as a "),e("a",{attrs:{href:"https://nodejs.org/dist/latest/docs/api/modules.html#modules_modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("CommonJS module as supported by Node.js"),e("OutboundLink")],1),t._v(" currently.")]),t._v(" "),e("h3",{attrs:{id:"controllers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#controllers"}},[t._v("#")]),t._v(" Controllers")]),t._v(" "),e("p",[t._v("A controller is a module or class that is exposing methods for eventually handling requests and sending some response. Controllers are discovered in folder "),e("strong",[t._v("api/controllers")]),t._v(" of your application as well as any installed plugin.")]),t._v(" "),e("p",[e("strong",[t._v("config/routes.js")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("exports"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("routes "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/my/route"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GreetingsController.sayHey"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[e("strong",[t._v("api/controllers/greetings.js")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sayHey")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hey!"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("About Discovery")]),t._v(" "),e("p",[t._v("Talking about the discovery of controllers doesn't imply to have some routes defined for linking either controller's handlers with requests they are meant to handle. Any routing configuration as provided in first example above must be defined manually.")])]),t._v(" "),e("h3",{attrs:{id:"policies"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#policies"}},[t._v("#")]),t._v(" Policies")]),t._v(" "),e("p",[t._v("A policy is a module or class just like a "),e("a",{attrs:{href:"#controllers"}},[t._v("controller")]),t._v(". However, it is meant to handle requests collaboratively with other policies and some final controller. Thus it might ignore requests or adjust request information without ever responding to any request. Multiple policies may be involved in processing a single request. That's why policies are capable of passing control to next available policy in chain of processing policies which isn't possible for a controller.")]),t._v(" "),e("p",[t._v("Policies are always able to send a response nonetheless. That's useful for implementing filters next to controllers.")]),t._v(" "),e("p",[t._v("A final difference between controllers and policies regards the way they are picked to be involved in processing a particular request. Policies are applied to requests sharing prefix of URL path. A controller is obeyed when fully matching a request's URL path.")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Example")]),t._v(" "),e("p",[t._v("Consider a client is requesting URL "),e("code",[t._v("/api/user/search?name=John")]),t._v(".")]),t._v(" "),e("p",[t._v("This request would pick controller routes matching "),e("code",[t._v("/api/user/search")]),t._v(" as a whole, only.")]),t._v(" "),e("p",[t._v("In opposition to that, any policy route matching "),e("code",[t._v("/")]),t._v(", "),e("code",[t._v("/api")]),t._v(", "),e("code",[t._v("/api/user")]),t._v(" or "),e("code",[t._v("/api/user/search")]),t._v(" would be picked up for processing in order from shortest to longest matching prefix.")])]),t._v(" "),e("p",[t._v("Policy components are discovered in folder "),e("strong",[t._v("api/policies")]),t._v(" of your application as well as any installed plugin.")]),t._v(" "),e("p",[e("strong",[t._v("config/routes.js")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("exports"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("policies "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BodyPolicy.accessGranted"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[e("strong",[t._v("api/policies/body.js")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("accessGranted")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" next")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("token "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"secret"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accessGranted "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x-granted"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("next")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("403")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" error"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"access forbidden"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Remarks")]),t._v(" "),e("p",[t._v("The preceding example illustrates support for callback provided in third argument for calling next policy in chain of policies to be applied. "),e("strong",[t._v("In fact, any policy hast to invoke this callback unless it is returning a promise instead.")])]),t._v(" "),e("p",[t._v("The example also illustrates a policy adjusting response without responding by "),e("RouterLink",{attrs:{to:"/api/hitchy.html#res-set-name-value"}},[t._v("setting response header")]),t._v(".")],1),t._v(" "),e("p",[t._v("Eventually it shows a "),e("em",[t._v("filter")]),t._v(" instantly responding to client in case of an error. In the latter case make sure the response is finished.")])]),t._v(" "),e("h3",{attrs:{id:"models"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#models"}},[t._v("#")]),t._v(" Models")]),t._v(" "),e("p",[t._v("Models are modules or classes describing data to be managed by your application. They are meant to be an interface for accessing data in an attached data storage like a database.")]),t._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),e("p",[t._v("Hitchy doesn't know much about handling data itself. However, there is a pretty powerful "),e("a",{attrs:{href:"https://www.npmjs.com/package/hitchy-plugin-odem",target:"_blank",rel:"noopener noreferrer"}},[t._v("plugin"),e("OutboundLink")],1),t._v(" you definitely want to check out.")])]),t._v(" "),e("p",[t._v("They are discovered in folder "),e("strong",[t._v("api/models")]),t._v(" of your application as well as any installed plugin.")]),t._v(" "),e("h3",{attrs:{id:"services"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#services"}},[t._v("#")]),t._v(" Services")]),t._v(" "),e("p",[t._v("Services are modules or classes as well. They are meant to implement and provide features that are commonly required in controllers, policies and models. Whenever there is code to be used redundantly you should put it in a service.")]),t._v(" "),e("p",[t._v("Service components are discovered in folder "),e("strong",[t._v("api/services")]),t._v(" of your application as well as any installed plugin.")]),t._v(" "),e("h2",{attrs:{id:"exposure-at-runtime"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exposure-at-runtime"}},[t._v("#")]),t._v(" Exposure At Runtime")]),t._v(" "),e("p",[t._v("All components are exposed at runtime in section "),e("code",[t._v("runtime")]),t._v(" of "),e("RouterLink",{attrs:{to:"/api/hitchy.html#api-runtime"}},[t._v("Hitchy's API")]),t._v(". There are separate groups for every kind of component:")],1),t._v(" "),e("ul",[e("li",[e("code",[t._v("api.runtime.controllers")])]),t._v(" "),e("li",[e("code",[t._v("api.runtime.policies")])]),t._v(" "),e("li",[e("code",[t._v("api.runtime.models")])]),t._v(" "),e("li",[e("code",[t._v("api.runtime.services")])])]),t._v(" "),e("p",[t._v("In addition, in "),e("RouterLink",{attrs:{to:"/api/hitchy.html#request-context"}},[t._v("context of a controller's or a policy's request handler")]),t._v(" either collection of components is available via some convenient alias:")],1),t._v(" "),e("ul",[e("li",[e("code",[t._v("this.controllers")])]),t._v(" "),e("li",[e("code",[t._v("this.policies")])]),t._v(" "),e("li",[e("code",[t._v("this.models")])]),t._v(" "),e("li",[e("code",[t._v("this.services")])])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Singular Collection Names")]),t._v(" "),e("p",[t._v("For the sake of convenience and integrity either collection can be addressed using singular names as well.")])]),t._v(" "),e("h3",{attrs:{id:"derivation-of-component-names"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#derivation-of-component-names"}},[t._v("#")]),t._v(" Derivation of Component Names")]),t._v(" "),e("p",[t._v("When exposing components Hitchy is deriving either component's resulting name from path name of Javascript file providing its implementation relative to the type of component's folder following this process:")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("The file's extension "),e("strong",[t._v(".js")]),t._v(" is dropped.")])]),t._v(" "),e("li",[e("p",[t._v("Leading digits optionally separated by a dash or underscore are stripped off.")]),t._v(" "),e("p",[t._v("Leading digits can be used to optionally control the order of loading available modules during bootstrap e.g. to assure that some component is capable of accessing its previously loaded parent class.")])]),t._v(" "),e("li",[e("p",[t._v("The segments of path name")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"#customizing-exposure"}},[t._v("are reversed")]),t._v(" and")]),t._v(" "),e("li",[t._v("joined by dashes instead of slashes.")])])]),t._v(" "),e("li",[e("p",[t._v("The resulting name")]),t._v(" "),e("ul",[e("li",[t._v("is converted to all lowercase letters and eventually")]),t._v(" "),e("li",[t._v("converted from kebab-case naming style into PascalCase naming style.")])])])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Example")]),t._v(" "),e("p",[t._v("Consider having a file "),e("strong",[t._v("api/services/01-converter-tool/archive/1_ZIP.js")]),t._v(". This would result in the following value per step given before:")]),t._v(" "),e("ol",[e("li",[e("strong",[t._v("01-converter-tool/archive/1_ZIP")])]),t._v(" "),e("li",[e("strong",[t._v("converter-tool/archive/ZIP")])]),t._v(" "),e("li",[e("ul",[e("li",[e("strong",[t._v("ZIP/archive/converter-tool")])]),t._v(" "),e("li",[e("strong",[t._v("ZIP-archive-converter-tool")])])])]),t._v(" "),e("li",[e("ul",[e("li",[e("strong",[t._v("zip-archive-converter-tool")])]),t._v(" "),e("li",[e("strong",[t._v("ZipArchiveConverterTool")])])])])]),t._v(" "),e("p",[t._v("Thus the component implemented in assumed file would be exposed as "),e("code",[t._v("api.runtime.services.ZipArchiveConverterTool")]),t._v(".")])]),t._v(" "),e("h3",{attrs:{id:"customizing-exposure"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customizing-exposure"}},[t._v("#")]),t._v(" Customizing Exposure")]),t._v(" "),e("p",[t._v("Starting with version 0.3.3 every plugin as well as the application may customize the way Hitchy is discovering and exposing their individual components.")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("A plugin may use options "),e("RouterLink",{attrs:{to:"/api/plugins.html#deepcomponents"}},[e("code",[t._v("deepComponents")])]),t._v(" and "),e("RouterLink",{attrs:{to:"/api/plugins.html#appendfolders"}},[e("code",[t._v("appendFolder")])]),t._v(" of its "),e("RouterLink",{attrs:{to:"/api/plugins.html#meta-information"}},[t._v("meta information")]),t._v(".")],1)]),t._v(" "),e("li",[e("p",[t._v("The application can provide the same options as part of "),e("RouterLink",{attrs:{to:"/api/hitchy.html#api-meta"}},[t._v("its own meta information")]),t._v(".")],1)])]),t._v(" "),e("p",[t._v("Starting with version 0.4.0 this support for customizing exposure has been moved from "),e("RouterLink",{attrs:{to:"/api/hitchy.html#configuration"}},[t._v("configuration")]),t._v(" to meta information.")],1),t._v(" "),e("h3",{attrs:{id:"accessing-components"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#accessing-components"}},[t._v("#")]),t._v(" Accessing Components")]),t._v(" "),e("p",[t._v("For example, the following request handler is accessing a service component named "),e("code",[t._v("FileZipper")]),t._v(" which is discovered in file "),e("strong",[t._v("api/service/file-zipper.js")]),t._v(":")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("someRequestHandler")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("runtime"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("services"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("FileZipper"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("listFromArchive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some/archive"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Optionally, Hitchy's API is available via property "),e("code",[t._v("hitchy")]),t._v(" of provided request descriptor:")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("someRequestHandler")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hitchy"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("runtime"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("services"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("FileZipper"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("listFromArchive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some/archive"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Basically, "),e("RouterLink",{attrs:{to:"/api/hitchy.html#req-hitchy"}},[e("code",[t._v("req.hitchy")])]),t._v(" and "),e("RouterLink",{attrs:{to:"/api/hitchy.html#this-api"}},[e("code",[t._v("this.api")])]),t._v(" are both referring to the same API instance. Using "),e("code",[t._v("req.hitchy")]),t._v(" is beneficial when using arrow functions as well as on passing request descriptor "),e("code",[t._v("req")]),t._v(" into sub-functions.")],1),t._v(" "),e("p",[t._v("Last but not least aliases are provided in context of request handlers for accessing either type of component more conveniently:")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("someRequestHandler")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("status")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("json")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("services"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("FileZipper"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("listFromArchive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some/archive"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);